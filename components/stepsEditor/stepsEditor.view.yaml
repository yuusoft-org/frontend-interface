dataSchema:
  type: object
  properties:
    selectedStepId:
      type: string

propsSchema:
  type: object
  properties:
    steps:
      type: array
      items:
        type: object
        properties:

refs:
  step-*:
    eventListeners:
      focus:
        handler: handleOnFocus
      # input:
      #   handler: handleOnInput
      # mousedown:
      #   handler: handleBlockMouseDown
      # mouseup:
      #   handler: handleBlockMouseUp
      # beforeinput:
      #   handler: handleBlockBeforeInput
      # compositionend:
      #   handler: handleBlockCompositionEnd
      # compositionstart:
      #   handler: handleBlockCompositionStart
      keydown:
        handler: handleStepKeyDown

template:
  - rtgl-view w=f h=f p=m:
    - rtgl-view w=f h=f p=m:
      - $map: { $eval: steps }
        each(v,k):
          - rtgl-view d=h w=f:
            - $switch:
                'selectedStepId == v.id':
                  - rtgl-view h=40 w=2 bgc=ac mr=m:
                'selectedStepId != v.id':
                  - rtgl-view h=40 w=2 mr=m:
            - 'div#step-${v.id} style="width: 100%;" contenteditable=true':
              - 'span style="font-size: 36px;"': Test Data
